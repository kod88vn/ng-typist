!function(root){"use strict";function endsWith(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)}function noop(){}function Malarkey(elem,opts){function enqueue(fn,args){return fnQueue.push(fn),argsQueue.push(args),state!=RUNNING&&(state=RUNNING,setTimeout(function(){next()},0)),self}function next(){if(state!=RUNNING)return state=STOPPED,pauseCb(elem),void(pauseCb=noop);if(++i==fnQueue.length){if(!loop)return i=fnQueue.length-1,void(state=STOPPED);i=0}fnQueue[i].apply(null,[].concat(next,argsQueue[i]))}function _type(cb,str,speed){var len=str.length;return len?void function t(i){setTimeout(function(){setter(elem,getter(elem)+str[i]),i+=1,len>i?t(i):cb()},speed)}(0):cb()}function _delete(cb,x,speed){var curr=getter(elem),count=curr.length;return null!=x&&("string"==typeof x?count=endsWith(curr,x+postfix)?x.length+postfix.length:0:x>-1&&(count=Math.min(x,count))),count?void function d(count){setTimeout(function(){var curr=getter(elem);count?(setter(elem,curr.substring(0,curr.length-1)),d(count-1)):cb()},speed)}(count):cb()}function _clear(cb){setter(elem,""),cb()}function _call(cb,fn){fn.call(cb,elem)}var self=this;if(!(self instanceof Malarkey))return new Malarkey(elem,opts);opts=opts||{};var loop=opts.loop,typeSpeed=opts.speed||opts.typeSpeed||50,deleteSpeed=opts.speed||opts.deleteSpeed||50,pauseDelay=opts.delay||opts.pauseDelay||2e3,postfix=opts.postfix||"",getter=opts.getter||function(elem){return elem.innerHTML},setter=opts.setter||function(elem,val){elem.innerHTML=val},fnQueue=[],argsQueue=[],i=-1,state=STOPPED,pauseCb=noop;self.type=function(str,speed){return enqueue(_type,[str+postfix,speed||typeSpeed])},self["delete"]=function(x,speed){return enqueue(_delete,[x,speed||deleteSpeed])},self.clear=function(){return enqueue(_clear)},self.pause=function(delay){return enqueue(setTimeout,[delay||pauseDelay])},self.call=function(fn){return enqueue(_call,[fn])},self.triggerPause=function(cb){return state=STOPPING,pauseCb=cb||noop,self},self.triggerResume=function(){if(state!=RUNNING){var prevState=state;state=RUNNING,prevState==STOPPED&&next()}return self},self.isRunning=function(){return state!=STOPPED}}var STOPPED=0,STOPPING=1,RUNNING=2;"object"==typeof module?module.exports=Malarkey:root.malarkey=Malarkey}(this),function(window,module){"use-strict";module.exports&&(malarkey=module.exports),angular.module("ng-typist",[]).directive("typist",function(){return{restrict:"E",scope:{config:"="},template:'<span ng-attr-id="{{config.id}}"/>',controller:["$scope","$timeout",function($scope,$timeout){$timeout(function(){var elem=($scope.config,document.querySelector("#"+$scope.config.id)),opts={typeSpeed:$scope.config.typeSpeed,deleteSpeed:$scope.config.deleteSpeed,pauseDelay:$scope.config.pauseDelay,loop:$scope.config.loop,postfix:$scope.config.postfix},act=malarkey(elem,opts);$scope.config.words.forEach(function(w){act.type(w).pause()["delete"]()})})}]}})}(window,module);